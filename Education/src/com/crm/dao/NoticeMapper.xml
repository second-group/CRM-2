<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.crm.dao.NoticeMapper">
	<select id="SelectNoticeAll" parameterType="fenye" resultType="notice">
		SELECT no_id,username,no_userid,sendingtime,receivingtime,no_content,no_state from notice where no_userid=#{notice.no_userid}
		 ORDER BY no_id desc LIMIT #{page},#{pageSize}
	</select>
	<select id="SelectNoticeCount" parameterType="fenye" resultType="int">
		SELECT count(1) from notice 
		LIMIT #{page},#{pageSize}
	</select>
	<update id="UpdateNotice" parameterType="notice">
			update notice
		<set>
			
			<if test="no_state>=0">
				no_state=#{no_state},			
			</if>
			
		
		</set>
			where no_id=#{no_id}
	</update>
</mapper>